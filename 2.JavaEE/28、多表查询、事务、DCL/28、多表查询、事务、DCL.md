# 28、多表查询、事务、DCL

## 1、多表查询

- 从多张表中查询数据：`select * from 表1,表2`。得到的是表1和表2中内容的笛卡尔积（所有排列组合）。完成多表查询需要消除笛卡尔积中无用的数据。

- 多表查询的分类：

  1. 内连接查询。
  2. 外连接查询。
  3. 子查询。

- 内连接查询：

  - 隐式内连接：使用 where 条件，查询满足条件的数据。
    - `select 列名列表 from 表1,表2 where 条件字段`。
    - 使用 `表名.列名` 的方式，获取不同表中的列。表名也可以用别名替代。
  - 显式内连接：
    - `select 列名列表 from 表名1 inner join 表2 on 条件字段`。
    - inner 关键字可以省略。
  - 内连接查询步骤：
    1. 确定所要查询的表。
    2. 确定查询的条件。
    3. 查询哪些字段（列）。
  - 内连接查询的是两个表的交集部分，

- 外连接查询：

  - 左外连接：
    - `select 列名列表 from 表1 left outer join 表2 on 条件字段`。
    - outer 关键字可省略。
    - 左外连接查询的是左表（表1）的所有数据以及其（与表2）交集部分。
  - 右外连接：
    - `select 列名列表 from 表1 right outer join 表2 on 条件字段`。
    - 右外连接查询的是右表（表2）的所有数据以及其（与表1）交集部分。

- 子查询：

  - 查询中嵌套查询，称嵌套查询为子查询。
  - 子查询语句需要被括号（）括起来。

  子查询的不同情况：

  - 子查询的结果是单行单列的：
    - 子查询的结果可以作为条件，使用单值判断运算符 >, <, = 做判断。
  - 子查询的结果是多行单列的：
    - 子查询的结果可以作为条件，使用关系判断运算符 in 做判断。
  - 子查询的结果是多行多列的：
    - 子查询到的结果可以作为一张虚拟表，作为被查询的对象。

