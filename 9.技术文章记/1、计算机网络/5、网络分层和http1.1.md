学习自：

- [摸清网络的第一步！](https://mp.weixin.qq.com/s?__biz=MzUxODAzNDg4NQ==&mid=2247487913&idx=1&sn=c8baa3daf1c4b0fffc9f86ff204b296b&chksm=f98e5503cef9dc15462edbfa764df8e35b7a80dae8415f36b7bae2e952e3bb53a4adc9035d20&scene=178&cur_album_id=1337204681134751744#rd)
- [我的 HTTP/1.1 好慢啊！](https://mp.weixin.qq.com/s?__biz=MzUxODAzNDg4NQ==&mid=2247488762&idx=1&sn=3c17254f19d6db5c6769f0e84b62c38f&chksm=f98e5050cef9d9464b18e57b2d98c9508211f9b968e57692b5d0158b13cc2bfe39256a818989&scene=178&cur_album_id=1337204681134751744#rd)



## 1、网络分层结构

- 网络主要分层：
  - ![image-20210225103135035](G:\Part One+\Part9 code notes\9.技术文章记\1、计算机网络\img\5、网络分层和http1.1\image-20210225103135035.png)
- 应用层：
  - 最上层的，也是我们能直接接触到的就是应用层（Application Layer），电脑或手机使用的应用软件都是在应用层实现。那么，当两个不同设备的应用需要通信的时候，应用就把应用数据传给下一层，也就是传输层。
  - 应用层只需要专注于为用户提供应用功能，不用去关心数据是如何传输的。
  - 应用层是工作在操作系统中的用户态，传输层及以下则工作在内核态。
- 传输层：
  - 应用层的数据包会传给传输层，传输层（Transport Layer）是为应用层提供网络支持的，帮助实现应用到应用的通信。在传输层会有两个传输协议，分别是 TCP 和 UDP。
  - 当设备作为接收方时，传输层则要负责把数据包传给应用，但是一台设备上可能会有很多应用在接收或者传输数据，因此需要用一个编号将应用区分开来，这个编号就是端口。由于传输层的报文中会携带端口号，因此接收方可以识别出该报文是发送给哪个应用。
- 网络层：
  - 网络层负责将数据从一个设备传输到另一个设备，处理网络中路径和节点的选择。网络层最常使用的是 IP 协议（Internet Protocol）
  - 网络层如何找到另一个设备呢，需要有区分设备的编号，一般用 IP 地址给设备进行编号。
    - 一个是网络号，负责标识该 IP 地址是属于哪个子网的；
    - 一个是主机号，负责标识同一子网下的不同主机。
  - IP 协议还有另一个重要的能力就是路由，根据目标IP地址选择下一跳的路径。
- 数据链路层：
  - 一旦数据需要跨网络传输，就需要有一个设备同时在两个网络当中，这个设备一般是路由器，路由器可以通过路由表计算出下一个要去的 IP 地址。
  - 需要有一个专门的层来标识网络中的设备，让数据在一个链路中传输，这就是数据链路层（Data Link Layer），它主要为网络层提供链路级别传输的服务。
  - 每一台设备的网卡都会有一个 MAC 地址，它就是用来唯一标识设备的。路由器计算出了下一个目的地 IP 地址，再通过 ARP 协议找到该目的地的 MAC 地址，这样就知道这个 IP 地址是哪个设备的了。
- 网络层：
  - 当数据准备要从设备发送到网络时，需要把数据包转换成电信号，让其可以在物理介质中传输，这一层就是物理层（Physical Layer），它主要是为数据链路层提供二进制传输的服务。



## 2、HTTP/1.1优化

- HTTP/1.1的优化

















